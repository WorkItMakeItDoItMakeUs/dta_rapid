<table class="uikit-table">
  <thead>
    <tr>
      <th>Date</th>
      <th>Item number</th>
      <th>Amount</th>
    </tr>
  </thead>

  <tbody>
    {% for i in (1..3) %}
    <tr class="item-row">
      <td data-label="Date">
        {% include forms/date-field.html
          pattern="\d{4}-\d{2}-\d{2}"
          required="true"
          past_date="true"
        %}
      </td>

      <td data-label="Item number">
        {% include forms/text-field.html
          pattern="[0-9]*"
          required="true"
        %}
      </td>

      <td data-label="Amount">
        {% include forms/text-field.html placeholder="$"
          pattern="[0-9]*"
          type="number"
          step="0.01"
          required="true"
        %}
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

{% include buttons/link-button.html text="Add another item" className="uikit-btn--tertiary uikit-btn--block" onclick="addRow()"%}

<script type="text/javascript">
  var addRow = function() {
    var xhr = new XMLHttpRequest();
    xhr.responseType = 'document';

    xhr.open('GET', window.location.href);
    xhr.onload = function() {
      var tableRow = this.response.querySelector('.item-row');
      var tableBody  = document.querySelector('.uikit-table tbody');

      tableBody.appendChild(tableRow);
    };

    xhr.send();
  }
</script>
